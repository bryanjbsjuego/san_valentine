<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <title>Â¿Quieres ser mi San ValentÃ­n? ğŸ’</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700;900&family=Crimson+Text:ital,wght@0,400;0,600;1,400&display=swap" rel="stylesheet">
    
    <!-- Canvas Confetti -->
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    
    <!-- Anime.js for animations -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>
    
    <style>
        body {
            font-family: 'Crimson Text', serif;
            overflow: hidden;
        }
        
        .title-font {
            font-family: 'Playfair Display', serif;
        }
        
        /* Gradiente de fondo animado */
        @keyframes gradient {
            0% {
                background-position: 0% 50%;
            }
            50% {
                background-position: 100% 50%;
            }
            100% {
                background-position: 0% 50%;
            }
        }
        
        .animated-bg {
            background: linear-gradient(-45deg, #ffc0cb, #ffb6c1, #ff69b4, #ff1493, #ffc0cb);
            background-size: 400% 400%;
            animation: gradient 15s ease infinite;
        }
        
        /* Glassmorphism */
        .glass {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.3);
        }
        
        /* Heart floating animation */
        @keyframes float {
            0%, 100% {
                transform: translateY(0) rotate(0deg);
                opacity: 0;
            }
            10% {
                opacity: 1;
            }
            90% {
                opacity: 1;
            }
            100% {
                transform: translateY(-100vh) rotate(360deg);
                opacity: 0;
            }
        }
        
        .floating-heart {
            animation: float 8s linear infinite;
        }
        
        /* Pulse animation */
        @keyframes pulse-heart {
            0%, 100% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.1);
            }
        }
        
        .pulse {
            animation: pulse-heart 1.5s ease-in-out infinite;
        }
        
        /* Smooth scrollbar hide */
        ::-webkit-scrollbar {
            display: none;
        }
        
        * {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
    </style>
</head>
<body class="animated-bg min-h-screen w-full flex items-center justify-center overflow-hidden fixed inset-0 bg-pink-200">
    
    <!-- Floating Hearts Container -->
    <div id="hearts-container" class="fixed inset-0 pointer-events-none z-0"></div>
    
    <!-- Main Card -->
    <div id="main-card" class="glass rounded-3xl shadow-2xl p-8 md:p-12 max-w-2xl w-11/12 md:w-full mx-auto relative z-10 max-h-[95vh] overflow-y-auto">
        
        <!-- Corner Hearts -->
        <div class="absolute -top-4 -left-4 text-4xl opacity-60 pulse">ğŸ’•</div>
        <div class="absolute -top-4 -right-4 text-4xl opacity-60 pulse" style="animation-delay: 0.5s;">ğŸ’–</div>
        <div class="absolute -bottom-4 -left-4 text-4xl opacity-60 pulse" style="animation-delay: 1s;">ğŸ’—</div>
        <div class="absolute -bottom-4 -right-4 text-4xl opacity-60 pulse" style="animation-delay: 1.5s;">ğŸ’</div>
        
        <!-- Content -->
        <div class="text-center space-y-6">
            <h1 id="title" class="title-font text-5xl md:text-7xl font-black text-pink-600 drop-shadow-lg">
                Mi Amor...
            </h1>
            
            <p id="subtitle" class="text-xl md:text-2xl text-pink-500 italic">
                Tengo una pregunta muy especial para ti
            </p>
            
            <div id="big-heart" class="text-7xl md:text-8xl pulse my-8 drop-shadow-xl">
                â¤ï¸
            </div>
            
            <p id="message" class="text-lg md:text-xl text-gray-700 leading-relaxed px-4">
                En este San ValentÃ­n, quiero que sepas que eres el amor de mi vida que el estar contigo es lo mejor de este mundo. 
                Cada momento a tu lado es un regalo tan maravilloso.
                <br><br>
                <strong class="text-pink-600 text-2xl">Â¿Quisieras ser mi San ValentÃ­n por siempre?</strong>
            </p>
            
            <div id="buttons-container" class="flex flex-col md:flex-row gap-4 justify-center items-center pt-6">
                <button id="btn-yes" class="btn-yes relative overflow-hidden bg-gradient-to-r from-pink-500 to-pink-600 text-white font-bold text-lg md:text-xl py-4 px-8 rounded-full shadow-lg hover:shadow-2xl transform hover:scale-105 transition-all duration-300 min-w-[250px]">
                    Â¡SÃ­, claro que sÃ­! ğŸ’•
                </button>
                
                <button id="btn-no" class="btn-no relative bg-gradient-to-r from-gray-300 to-gray-400 text-gray-700 font-bold text-lg md:text-xl py-4 px-8 rounded-full shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-300 min-w-[250px] whitespace-nowrap">
                    Mmm... dÃ©jame pensarlo ğŸ¤”
                </button>
            </div>
        </div>
    </div>
    
    <!-- Success Modal -->
    <div id="success-modal" class="fixed inset-0 flex items-center justify-center z-50 hidden">
        <div class="glass rounded-3xl shadow-2xl p-12 text-center max-w-md mx-4 transform scale-0 transition-transform duration-500" id="modal-content">
            <h2 class="title-font text-5xl md:text-6xl font-black text-pink-600 mb-6">
                Â¡SÃ­! ğŸ‰
            </h2>
            <p class="text-2xl text-pink-500 mb-6">
                ğŸ˜ Â¡TE AMO DEMASIADO MI AMORCITO! ğŸ’•
            </p>
            <div class="text-7xl pulse">â¤ï¸</div>
        </div>
    </div>
    
    <!-- No Modal (cuando intenta decir no) -->
    <div id="no-modal" class="fixed inset-0 flex items-center justify-center z-[60] hidden">
        <div class="absolute inset-0 bg-black opacity-50"></div>
        <div class="glass rounded-3xl shadow-2xl p-8 md:p-12 text-center max-w-lg mx-4 transform scale-0 transition-transform duration-500 relative z-10" id="no-modal-content">
            <h2 class="title-font text-4xl md:text-5xl font-black text-pink-600 mb-6">
                Â¡Espera! ğŸ˜±
            </h2>
            <p class="text-xl text-gray-700 mb-6 leading-relaxed">
                Â¡No puedes decir que no! ğŸ’”<br>
                Esta es una pregunta con una sola respuesta posible...
            </p>
            <div class="text-6xl mb-6 pulse">ğŸ¥º</div>
            <p class="text-lg text-pink-600 font-bold mb-6">
                Por favor, presiona el botÃ³n de "SÃ­" ğŸ’•
            </p>
            <button id="close-no-modal" class="bg-gradient-to-r from-pink-500 to-pink-600 text-white font-bold text-lg py-3 px-8 rounded-full shadow-lg hover:shadow-2xl transform hover:scale-105 transition-all duration-300">
                EstÃ¡ bien, presionarÃ© "SÃ­" ğŸ’–
            </button>
        </div>
    </div>
    
    <!-- Music Control -->
    <button id="music-control" class="fixed bottom-6 right-6 glass rounded-full w-14 h-14 md:w-16 md:h-16 flex items-center justify-center text-2xl md:text-3xl shadow-lg hover:shadow-2xl transform hover:scale-110 transition-all duration-300 z-50">
        ğŸµ
    </button>
    
    <!-- Audio Player (local file) -->
    <audio id="background-music" loop autoplay>
        <source src="cancion.mp3" type="audio/mpeg">
        Tu navegador no soporta el elemento de audio.
    </audio>
    
    <script>
        let player = document.getElementById('background-music');
        let musicPlaying = false;
        
        // Tailwind config
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        'display': ['Playfair Display', 'serif'],
                        'body': ['Crimson Text', 'serif'],
                    }
                }
            }
        }
        
        // Autoplay music on page load
        window.addEventListener('DOMContentLoaded', function() {
            const audio = document.getElementById('background-music');
            audio.volume = 0.5;
            audio.muted = false;
            
            // Intentar reproducir inmediatamente
            setTimeout(() => {
                audio.play()
                    .then(() => {
                        musicPlaying = true;
                        document.getElementById('music-control').textContent = 'ğŸµ';
                        console.log('MÃºsica reproduciÃ©ndose automÃ¡ticamente');
                    })
                    .catch(error => {
                        console.log('Autoplay bloqueado, haz click para reproducir');
                        musicPlaying = false;
                        document.getElementById('music-control').textContent = 'ğŸ”‡';
                    });
            }, 200);
        });
        
        // Click anywhere to start music (fallback para navegadores que bloquean autoplay)
        document.body.addEventListener('click', function startMusicOnClick() {
            if (!musicPlaying) {
                const audio = document.getElementById('background-music');
                audio.play().then(() => {
                    musicPlaying = true;
                    document.getElementById('music-control').textContent = 'ğŸµ';
                });
            }
        }, { once: true });
        
        // Initialize animations
        document.addEventListener('DOMContentLoaded', function() {
            // Animate title
            anime({
                targets: '#title',
                translateY: [-50, 0],
                opacity: [0, 1],
                duration: 1000,
                easing: 'easeOutExpo'
            });
            
            // Animate subtitle
            anime({
                targets: '#subtitle',
                translateY: [-30, 0],
                opacity: [0, 1],
                duration: 1000,
                delay: 200,
                easing: 'easeOutExpo'
            });
            
            // Animate heart
            anime({
                targets: '#big-heart',
                scale: [0, 1],
                opacity: [0, 1],
                duration: 800,
                delay: 400,
                easing: 'easeOutElastic(1, .5)'
            });
            
            // Animate message
            anime({
                targets: '#message',
                translateY: [30, 0],
                opacity: [0, 1],
                duration: 1000,
                delay: 600,
                easing: 'easeOutExpo'
            });
            
            // Animate buttons
            anime({
                targets: '#buttons-container button',
                translateY: [50, 0],
                opacity: [0, 1],
                duration: 800,
                delay: anime.stagger(150, {start: 800}),
                easing: 'easeOutExpo'
            });
            
            // 3D tilt effect on card (desktop only)
            const card = document.getElementById('main-card');
            const isTouchDevice = 'ontouchstart' in window;
            
            if (!isTouchDevice) {
                document.addEventListener('mousemove', (e) => {
                    const { clientX, clientY } = e;
                    const { innerWidth, innerHeight } = window;
                    
                    const xRotation = ((clientY / innerHeight) - 0.5) * 8;
                    const yRotation = ((clientX / innerWidth) - 0.5) * -8;
                    
                    card.style.transform = `perspective(1000px) rotateX(${xRotation}deg) rotateY(${yRotation}deg)`;
                });
            }
        });
        
        // Create floating hearts
        function createHeart() {
            const heartsContainer = document.getElementById('hearts-container');
            const heart = document.createElement('div');
            const hearts = ['â¤ï¸', 'ğŸ’•', 'ğŸ’–', 'ğŸ’—', 'ğŸ’','ğŸ˜'];
            
            heart.textContent = hearts[Math.floor(Math.random() * hearts.length)];
            heart.className = 'floating-heart absolute text-2xl md:text-3xl';
            heart.style.left = Math.random() * 100 + '%';
            heart.style.bottom = '-50px';
            heart.style.animationDuration = (Math.random() * 3 + 5) + 's';
            heart.style.animationDelay = Math.random() * 2 + 's';
            heart.style.opacity = '0';
            
            heartsContainer.appendChild(heart);
            
            setTimeout(() => heart.remove(), 8000);
        }
        
        // Create hearts continuously
        setInterval(createHeart, 300);
        
        // Initial hearts
        for (let i = 0; i < 20; i++) {
            setTimeout(createHeart, i * 150);
        }
        
        // Confetti function
        function launchConfetti() {
            const duration = 3000;
            const animationEnd = Date.now() + duration;
            const defaults = { 
                startVelocity: 30, 
                spread: 360, 
                ticks: 60, 
                zIndex: 2000,
                colors: ['#ff6b9d', '#c44569', '#f8b500', '#ffb6c1', '#ff1493']
            };
            
            function randomInRange(min, max) {
                return Math.random() * (max - min) + min;
            }
            
            const interval = setInterval(function() {
                const timeLeft = animationEnd - Date.now();
                
                if (timeLeft <= 0) {
                    return clearInterval(interval);
                }
                
                const particleCount = 50 * (timeLeft / duration);
                
                confetti({
                    ...defaults,
                    particleCount,
                    origin: { x: randomInRange(0.1, 0.3), y: Math.random() - 0.2 }
                });
                confetti({
                    ...defaults,
                    particleCount,
                    origin: { x: randomInRange(0.7, 0.9), y: Math.random() - 0.2 }
                });
            }, 250);
        }
        
        // Accept proposal
        document.getElementById('btn-yes').addEventListener('click', function() {
            // Launch confetti
            launchConfetti();
            
            // Animate card out
            anime({
                targets: '#main-card',
                scale: 0.8,
                opacity: 0,
                duration: 500,
                easing: 'easeInExpo'
            });
            
            // Show success modal
            setTimeout(() => {
                document.getElementById('success-modal').classList.remove('hidden');
                anime({
                    targets: '#modal-content',
                    scale: [0, 1],
                    rotate: [180, 0],
                    duration: 800,
                    easing: 'easeOutElastic(1, .5)'
                });
            }, 500);
            
            // Play music if not playing
            if (!musicPlaying) {
                player.play().then(() => {
                    musicPlaying = true;
                    document.getElementById('music-control').textContent = 'ğŸµ';
                }).catch(e => console.log('Error playing music:', e));
            }
        });
        
        // Decline proposal (show modal instead)
        const btnNo = document.getElementById('btn-no');
        
        btnNo.addEventListener('click', function(e) {
            e.preventDefault();
            
            // Show No modal
            document.getElementById('no-modal').classList.remove('hidden');
            
            // Animate modal entrance
            anime({
                targets: '#no-modal-content',
                scale: [0, 1],
                rotate: [0, 360],
                duration: 600,
                easing: 'easeOutElastic(1, .5)'
            });
        });
        
        // Close No modal
        document.getElementById('close-no-modal').addEventListener('click', function() {
            // Animate modal exit
            anime({
                targets: '#no-modal-content',
                scale: [1, 0],
                duration: 400,
                easing: 'easeInExpo',
                complete: function() {
                    document.getElementById('no-modal').classList.add('hidden');
                }
            });
            
            // Make Yes button pulse to draw attention
            anime({
                targets: '#btn-yes',
                scale: [1, 1.15, 1, 1.15, 1],
                duration: 1000,
                easing: 'easeInOutQuad'
            });
        });
        
        // Music control
        document.getElementById('music-control').addEventListener('click', function() {
            const control = this;
            
            if (musicPlaying) {
                player.pause();
                control.textContent = 'ğŸ”‡';
                musicPlaying = false;
            } else {
                player.play().then(() => {
                    control.textContent = 'ğŸµ';
                    musicPlaying = true;
                }).catch(e => console.log('Error playing music:', e));
            }
            
            // Animate control
            anime({
                targets: control,
                scale: [1, 1.2, 1],
                rotate: [0, 360],
                duration: 500,
                easing: 'easeOutElastic(1, .5)'
            });
        });
    </script>
</body>
</html>